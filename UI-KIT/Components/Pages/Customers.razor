@page "/customers"
@namespace UI_KIT.Components.Pages

<PageTitle>Lead Management - XTradingView</PageTitle>

<div class="p-6">
    <div class="mb-6">
        <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Customers</h1>
        <p class="text-gray-600 dark:text-gray-400 mt-2">Manage your customer relationships and data</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <!-- Stats Cards -->
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-blue-100 dark:bg-blue-900">
                    <span class="e-icons e-user text-blue-600 dark:text-blue-400"></span>
                </div>
                <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Customers</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">1,234</p>
                </div>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-green-100 dark:bg-green-900">
                    <span class="e-icons e-check text-green-600 dark:text-green-400"></span>
                </div>
                <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Active Customers</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">987</p>
                </div>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-yellow-100 dark:bg-yellow-900">
                    <span class="e-icons e-clock text-yellow-600 dark:text-yellow-400"></span>
                </div>
                <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600 dark:text-gray-400">New This Month</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">47</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer List -->
    <section class="bg-gray-50 dark:bg-gray-950">
    <div class="mx-auto w-full py-12 sm:px-6 px-4">
        <SfGrid DataSource="@GridData" Width="100%" Height="658" GridLines="GridLine.None" role="grid">
            <GridColumns>
                <GridColumn Type="Syncfusion.Blazor.Grids.ColumnType.CheckBox" IsPrimaryKey="true" TextAlign="TextAlign.Center" Width="40"></GridColumn>
                <GridColumn Field="@nameof(Lead.LeadId)" HeaderText="Lead ID" Width="60">
                    <Template>
                        @{
                            var lead = (context as Lead)!;
                            <a class="text-primary-700 dark:text-primary-500 font-medium" href="javascript:void(0);" aria-label="lead ID" role="link">@lead.LeadId</a>
                        }
                    </Template>
                </GridColumn>
                <GridColumn HeaderText="Name" TextAlign="TextAlign.Left" Width="300">
                    <Template>
                        @{
                            var lead = (context as Lead)!;
                            <div class="flex gap-3 items-center py-1.5">
                                <div class="w-8 h-8">
                                    <span class="e-avatar e-avatar-circle e-avatar-small 
                                    @(lead.Details.ColorTheme switch {
                                     "Red" => "!bg-red-100 !text-red-700",
                                     "Green" => "!bg-green-100 !text-green-700",
                                     "Blue" => "!bg-cyan-100 !text-cyan-700",
                                     "Orange" => "!bg-orange-100 !text-orange-700",
                                     "Purple" => "!bg-indigo-100 !text-indigo-700",
                                     _ => ""
                                    })">
                                        @lead.Details.Initial
                                    </span>
                                </div>
                                <div class="flex flex-col text-sm">
                                    <p class="text-gray-900 dark:text-gray-50">@lead.Details.Name</p>
                                    <p class="text-gray-500 dark:text-gray-400">@lead.Details.Email</p>
                                </div>
                            </div>
                        }
                    </Template>
                </GridColumn>
                <GridColumn Field="@nameof(Lead.Status)" HeaderText="Lead Status" Width="105">
                    <Template>
                        @{
                            var lead = (context as Lead)!;
                            <div class="e-bigger">
                                <span class="e-badge e-badge-info !px-2 flex gap-1 w-max">
                                    <span class="e-icons e-check h-3 pt-0.5"></span>
                                    @lead.Status
                                </span>
                            </div>
                        }
                    </Template>
                </GridColumn>
                <GridColumn Field="@nameof(Lead.Interest)" HeaderText="Interest Level" Width="110">
                    <Template>
                        @{
                            var lead = (context as Lead)!;
                            <div class="e-bigger">
                                @switch (lead.Interest)
                                {
                                    case "High":
                                        <span class="e-badge e-badge-success !px-2 flex gap-1 w-max">
                                            <span class="e-icons e-arrow-up !text-green-700 dark:!text-green-500 h-3 pt-0.5"></span>High
                                        </span>
                                        break;
                                    case "Medium":
                                        <span class="e-badge e-badge-warning !px-2 flex gap-1 w-max">
                                            <span class="e-icons e-arrow-up !text-orange-700 dark:!text-orange-500 h-3 pt-0.5"></span>Medium
                                        </span>
                                        break;
                                    case "Low":
                                        <span class="e-badge e-badge-danger !px-2 flex gap-1 w-max">
                                            <span class="e-icons e-arrow-down !text-red-700 dark:!text-red-400 h-3 pt-0.5"></span>Low
                                        </span>
                                        break;
                                    default:
                                        <span>No records found.</span>
                                        break;
                                }
                            </div>
                        }
                    </Template>
                </GridColumn>
                <GridColumn Field="@nameof(Lead.Date)" HeaderText="Next Contact" Width="105" Format="MM/dd/yyyy" Type="Syncfusion.Blazor.Grids.ColumnType.Date"></GridColumn>
                <GridColumn Field="@nameof(Lead.Assignee)" HeaderText="Assigned To" Width="145">
                    <Template>
                        @{
                            var lead = (context as Lead)!;
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8">
                                    <span class="e-avatar e-avatar-circle e-avatar-small" style="background-image: url('@($"assets/images/common/avatar/{lead.Assignee.Avatar}")')"></span>
                                </div>
                                <div class="text-sm text-gray-900 dark:text-gray-50">@lead.Assignee.Name</div>
                            </div>
                        }
                    </Template>
                </GridColumn>
                <GridColumn Field="@nameof(Lead.Source)" HeaderText="Lead Source" Width="125"></GridColumn>
                <GridColumn Field="@nameof(Lead.Revenue)" HeaderText="Expected Revenue ($)" Width="133" Format="C0" TextAlign="TextAlign.Right"></GridColumn>
            </GridColumns>
        </SfGrid>
    </div>
</section>
</div>
